2016-04-08
by FreyP 

nginx docker container for AT proxy

design goals:
+ use official nginx container
+ extended to have a parametrized nginx configuration
+ fitted for AT proxy 
+ use environment variables to customize the nginx configuration at container startup time 
+ load SSL certificates from docker host 
  (for security reasons, do not want to have them in the image / dockerhub repo)

ideas adapted from
+ https://blog.docker.com/2015/04/tips-for-deploying-nginx-official-image-with-docker/
+ http://blog.tryolabs.com/2015/03/26/configurable-docker-containers-for-multiple-environments/

repositories:
https://github.com/freyp577/atproxy-nginx
https://hub.docker.com/r/freyp577/atproxy-nginx/

TODO move to Haufe Bitbucket repo

usage: 
see also README.md

docker build -t freyp577/atproxy-nginx:latest . 

docker push freyp577/atproxy-nginx

docker run --rm --env-file ./test.env freyp577/atproxy-nginx more /etc/nginx/conf.d/staging.conf


TODO mechanism to securely provision SSL certificates
 
